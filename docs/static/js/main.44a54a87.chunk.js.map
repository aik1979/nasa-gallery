{"version":3,"sources":["js/Search.js","js/Item.js","js/Gallery.js","js/Details.js","js/App.js","index.js"],"names":["OPTIONS","Array","from","length","_","i","key","text","value","Search","handleKeypress","event","query","target","trim","_this","props","onQuery","str","_this$props","this","loading","itemsPerPage","onItemsPerPageChange","react_default","a","createElement","Input","onKeyPress","placeholder","icon","fluid","action","Select","options","onChange","compact","actionPosition","Component","Item","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleLoad","setState","state","item","onClick","Card","className","Loader","active","Image","src","thumb","hidden","onLoad","Content","Description","data","title","STACK","Gallery","toggleInfScroll","prev","infScroll","handleNextPageLoad","append","onNextPage","handleNextBuffer","onNextBuffer","window","scroll","top","left","behavior","sentinel","React","createRef","_this2","IntersectionObserver","_ref","intersectionRatio","items","threshold","observe","current","totalHits","onDetails","nextPageExists","nextBufferExists","Header","as","textAlign","Subheader","List","horizontal","Segment","Group","js_Search","Checkbox","label","slider","Number","Fragment","itemsPerRow","map","js_Item","Button","disabled","ref","Details","handleClose","onClose","open","images","preview","Modal","centered","bordered","center","date_created","description","App","_ref2","asyncToGenerator","regenerator_default","mark","_callee","url","response","_ref3","collection","links","next","wrap","_context","encodeURI","concat","fetch","sent","json","metadata","total_hits","href","find","_ref4","rel","_ref5","buffer","getPage","stop","_x","apply","arguments","newItems","undefined","b","perPage","slice","toConsumableArray","getNextBuffer","handleItemsPerPageChange","_ref6","openDetails","_ref8","_callee2","_ref7","_ref7$item","_context2","filter","link","endsWith","_x2","_x3","closeDetails","_this$state","rest","objectWithoutProperties","js_Gallery","assign","js_Details","ReactDOM","render","js_App","document","getElementById"],"mappings":"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","file":"static/js/main.44a54a87.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Input, Select } from \"semantic-ui-react\";\n\nconst OPTIONS = Array.from({ length: 3 }, (_, i) => {\n\ti += 1;\n\ti *= 12;\n\treturn {\n\t\tkey: i,\n\t\ttext: i,\n\t\tvalue: i,\n\t};\n});\n\nclass Search extends Component {\n\thandleKeypress = event => {\n\t\tif (event.key !== \"Enter\") return;\n\n\t\tlet query = event.target.value.trim();\n\t\tthis.props.onQuery({ str: query });\n\t};\n\n\trender() {\n\t\tlet {\n\t\t\tloading,\n\t\t\titemsPerPage,\n\t\t\tonItemsPerPageChange,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<Input\n\t\t\t\tloading={loading}\n\t\t\t\tonKeyPress={this.handleKeypress}\n\t\t\t\tplaceholder=\"Search...\"\n\t\t\t\ticon=\"search\"\n\t\t\t\tfluid\n\t\t\t\taction={\n\t\t\t\t\t<Select\n\t\t\t\t\t\toptions={OPTIONS}\n\t\t\t\t\t\tvalue={itemsPerPage}\n\t\t\t\t\t\tonChange={onItemsPerPageChange}\n\t\t\t\t\t\tcompact\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tactionPosition=\"left\"\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default Search;\n","import React, { Component } from \"react\";\nimport { Image, Card, Loader } from \"semantic-ui-react\";\n\nclass Item extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { loading: true };\n\t}\n\n\thandleLoad = _ => {\n\t\tthis.setState({ loading: false });\n\t};\n\n\trender() {\n\t\tlet { loading } = this.state;\n\t\tlet { item, onClick } = this.props;\n\n\t\treturn (\n\t\t\t<Card onClick={onClick} item={item}>\n\t\t\t\t<div className=\"card_image\">\n\t\t\t\t\t<Loader active={loading} />\n\t\t\t\t\t<Image\n\t\t\t\t\t\tclassName=\"actual\"\n\t\t\t\t\t\tsrc={item.thumb}\n\t\t\t\t\t\thidden={loading}\n\t\t\t\t\t\tonLoad={this.handleLoad}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<Card.Content>\n\t\t\t\t\t<Card.Description>{item.data.title}</Card.Description>\n\t\t\t\t</Card.Content>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default Item;\n","import React, { Component } from \"react\";\nimport {\n\tHeader,\n\tList,\n\tCard,\n\tButton,\n\tSegment,\n\tCheckbox,\n} from \"semantic-ui-react\";\nimport Search from \"./Search\";\nimport Item from \"./Item\";\n\nimport \"../css/Gallery.scss\";\n\nconst STACK = [\"react\", \"semantic-ui-react\"];\n\nclass Gallery extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = { infScroll: false };\n\n\t\tthis.sentinel = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tlet io = new IntersectionObserver(\n\t\t\t({ 0: entry }) => {\n\t\t\t\tif (\n\t\t\t\t\tentry.intersectionRatio !== 1 ||\n\t\t\t\t\t!this.props.items.length ||\n\t\t\t\t\t!this.state.infScroll\n\t\t\t\t)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.handleNextPageLoad();\n\t\t\t},\n\t\t\t{ threshold: 1.0 }\n\t\t);\n\t\tio.observe(this.sentinel.current);\n\t}\n\n\ttoggleInfScroll = _ => {\n\t\tthis.setState(prev => ({ infScroll: !prev.infScroll }));\n\t};\n\n\thandleNextPageLoad = _ => {\n\t\tlet append = this.state.infScroll;\n\t\tthis.props.onNextPage(append);\n\t};\n\n\thandleNextBuffer = _ => {\n\t\tthis.props.onNextBuffer();\n\t\twindow.scroll({ top: 0, left: 0, behavior: \"smooth\" });\n\t};\n\n\trender() {\n\t\tlet {\n\t\t\titems,\n\t\t\ttotalHits,\n\t\t\tloading,\n\n\t\t\tonQuery,\n\n\t\t\titemsPerPage,\n\t\t\tonItemsPerPageChange,\n\n\t\t\tonDetails,\n\n\t\t\t// onNextPage,\n\t\t\t// onNextBuffer,\n\t\t\tnextPageExists,\n\t\t\tnextBufferExists, // buffer == batch\n\t\t} = this.props;\n\n\t\tlet { infScroll } = this.state;\n\t\t// console.log(infScroll);\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Header as=\"h1\" textAlign=\"center\">\n\t\t\t\t\tNASA IMAGES GALLERY APP\n\t\t\t\t\t<Header.Subheader>\n\t\t\t\t\t\t<List items={STACK} horizontal />\n\t\t\t\t\t</Header.Subheader>\n\t\t\t\t</Header>\n\n\t\t\t\t<Segment.Group>\n\t\t\t\t\t<Segment>\n\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\tonQuery={onQuery}\n\t\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\t\tonItemsPerPageChange={onItemsPerPageChange}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{totalHits !== -1 && (\n\t\t\t\t\t\t\t<div className=\"subsearch\">\n\t\t\t\t\t\t\t\t<strong>got {totalHits} hits</strong>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tlabel=\"infinite scroll\"\n\t\t\t\t\t\t\t\t\tslider\n\t\t\t\t\t\t\t\t\tvalue={Number(infScroll)}\n\t\t\t\t\t\t\t\t\tonChange={this.toggleInfScroll}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Segment>\n\n\t\t\t\t\t{!!items.length && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t\t<Card.Group itemsPerRow={4}>\n\t\t\t\t\t\t\t\t\t{items.map(item => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\t\t\t\tkey={item.thumb}\n\t\t\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={onDetails}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Card.Group>\n\t\t\t\t\t\t\t</Segment>\n\n\t\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={!nextPageExists}\n\t\t\t\t\t\t\t\t\tonClick={this.handleNextPageLoad}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tnext page\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t!(!nextPageExists && nextBufferExists)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={this.handleNextBuffer}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tnext buffer\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</Segment.Group>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"sentinel\"\n\t\t\t\t\tref={this.sentinel}\n\t\t\t\t\thidden={!(infScroll && nextPageExists)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Gallery;\n","import React, { Component } from \"react\";\nimport { Modal, Image, Header, Segment } from \"semantic-ui-react\";\n\nimport \"../css/Details.scss\";\n\nclass Details extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { loading: true };\n\t}\n\n\thandleLoad = _ => {\n\t\tthis.setState({ loading: false });\n\t};\n\n\thandleClose = _ => {\n\t\tthis.setState({ loading: true });\n\t\tthis.props.onClose();\n\t};\n\n\trender() {\n\t\tlet { current } = this.props;\n\t\tlet { loading } = this.state;\n\t\tlet open = current !== null;\n\n\t\tlet data = (current && current.data) || {};\n\t\tlet images = (current && current.images) || [];\n\n\t\tlet preview = images[images.length - 1];\n\t\tlet orig = images[0];\n\n\t\treturn (\n\t\t\t<Modal open={open} onClose={this.handleClose} centered={false}>\n\t\t\t\t<Segment.Group className=\"details__group\" horizontal>\n\t\t\t\t\t<Segment loading={loading}>\n\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\tsrc={preview}\n\t\t\t\t\t\t\tonLoad={this.handleLoad}\n\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Segment>\n\n\t\t\t\t\t<Segment>\n\t\t\t\t\t\t<Header>\n\t\t\t\t\t\t\t{data.title}\n\t\t\t\t\t\t\t<Header.Subheader>\n\t\t\t\t\t\t\t\t<p>{data.center}</p>\n\t\t\t\t\t\t\t\t<p>{data.date_created}</p>\n\t\t\t\t\t\t\t</Header.Subheader>\n\t\t\t\t\t\t</Header>\n\n\t\t\t\t\t\t<p>{data.description}</p>\n\t\t\t\t\t</Segment>\n\t\t\t\t</Segment.Group>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nexport default Details;\n","import React, { Component } from \"react\";\nimport Gallery from \"./Gallery\";\nimport Details from \"./Details\";\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.buffer = {};\n\n\t\tthis.state = {\n\t\t\titems: [],\n\t\t\tloading: false,\n\t\t\ttotalHits: -1,\n\t\t\titemsPerPage: 12,\n\n\t\t\tnextPageExists: false,\n\t\t\tnextBufferExists: false,\n\n\t\t\tcurrent: null,\n\t\t};\n\t}\n\n\t// pick more proper name\n\tquery = async ({ url, str }) => {\n\t\tthis.setState({ loading: true });\n\n\t\tif (!url) {\n\t\t\turl = encodeURI(\n\t\t\t\t`https://images-api.nasa.gov/search?q=${str}&media_type=image`\n\t\t\t);\n\t\t}\n\t\tlet response = await fetch(url);\n\t\tlet { collection } = await response.json();\n\n\t\tlet {\n\t\t\titems,\n\t\t\tlinks,\n\t\t\tmetadata: { total_hits: totalHits },\n\t\t} = collection;\n\n\t\titems = items.map(item => {\n\t\t\tlet {\n\t\t\t\tdata: { 0: data },\n\t\t\t\thref: collection,\n\t\t\t\tlinks: {\n\t\t\t\t\t0: { href: thumb },\n\t\t\t\t},\n\t\t\t} = item;\n\n\t\t\treturn {\n\t\t\t\tdata,\n\t\t\t\tcollection,\n\t\t\t\tthumb,\n\t\t\t};\n\t\t});\n\n\t\tlet prev = links && links.find(({ rel }) => rel === \"prev\");\n\t\tlet next = links && links.find(({ rel }) => rel === \"next\");\n\t\tprev = prev && prev.href;\n\t\tnext = next && next.href;\n\n\t\tthis.buffer = {\n\t\t\titems,\n\t\t\tprev,\n\t\t\tnext,\n\t\t};\n\n\t\tthis.setState({\n\t\t\ttotalHits,\n\t\t\tloading: false,\n\t\t\tnextBufferExists: !!next,\n\t\t});\n\n\t\tthis.getPage();\n\t};\n\n\tgetPage = (append = false) => {\n\t\tlet b = this.buffer;\n\t\tlet newItems;\n\t\tlet perPage = this.state.itemsPerPage;\n\n\t\tnewItems = b.items.slice(0, perPage);\n\t\tb.items = b.items.slice(perPage);\n\n\t\tthis.setState(prev => {\n\t\t\treturn {\n\t\t\t\titems: append ? [...prev.items, ...newItems] : newItems,\n\t\t\t\tnextPageExists: !!b.items.length,\n\t\t\t};\n\t\t});\n\t};\n\n\tgetNextBuffer = _ => {\n\t\tthis.query({ url: this.buffer.next });\n\t};\n\n\thandleItemsPerPageChange = (_, { value }) => {\n\t\tthis.setState({ itemsPerPage: value });\n\t};\n\n\topenDetails = async (_, { item: { data, collection } }) => {\n\t\tthis.setState({\n\t\t\tcurrent: {\n\t\t\t\tdata,\n\t\t\t},\n\t\t});\n\n\t\tlet links = await (await fetch(collection)).json();\n\t\tlet images = links.filter(link => link.endsWith(\"jpg\"));\n\n\t\tthis.setState({\n\t\t\tcurrent: {\n\t\t\t\tdata,\n\t\t\t\timages,\n\t\t\t},\n\t\t});\n\t};\n\n\tcloseDetails = _ => {\n\t\tthis.setState({ current: null });\n\t};\n\n\trender() {\n\t\tlet { current, ...rest } = this.state;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Gallery\n\t\t\t\t\t{...rest}\n\t\t\t\t\tonQuery={this.query}\n\t\t\t\t\tonItemsPerPageChange={this.handleItemsPerPageChange}\n\t\t\t\t\tonDetails={this.openDetails}\n\t\t\t\t\tonNextPage={this.getPage}\n\t\t\t\t\tonNextBuffer={this.getNextBuffer}\n\t\t\t\t/>\n\t\t\t\t<Details current={current} onClose={this.closeDetails} />\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport App from \"./js/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}